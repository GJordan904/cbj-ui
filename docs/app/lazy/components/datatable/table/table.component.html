<div class="jumbotron jumbotron-fluid bg-primary text-white text-center">
  <h1>
    Data Table Component
    <span class="sub">A Simple Data Table</span>
  </h1>
</div>
<div class="container">
  <cbj-datatable [config]="demoDtOptions"></cbj-datatable>
  <div class="card bg-primary mt-4">
    <div class="card-header">
      <h2>Overview</h2>
    </div>
    <div class="card-body">
      <p class="card-text">
        The component has a single attribute, <code class="p-1"><span class="token variable">options</span></code>, that
        is used to pass the data and configuration options to the table. This attribute should utilize the <code class="p-1"><span class="token variable">DatatableOptions</span></code>
        interface.
      </p>
    </div>
  </div>

  <div class="card bg-primary mt-4">
    <div class="card-header">
      <h2>Usage</h2>
    </div>
    <div class="card-body">
      <p class="card-text">
        Although simple, the data table has some great optional features that just have to be activated or implemented.
        If you just want a basic table with default options then all that is required on the <code class="p-1"><span class="token variable">DatatableOptions</span></code>
        is the <code class="p-1"><span class="token variable">data</span></code> and <code class="p-1"><span class="token variable">columns</span></code> properties.
      </p>

      <h3 class="card-subtitle mt-4">Styles</h3>
      <p class="card-text">
        The table itself sits flush inside of a card and has an optional title that can be added by setting the <code class="p-1"><span class="token variable">title</span></code>
        property on the <code class="p-1"><span class="token variable">DatatableOptions</span></code> or by setting <code class="p-1"><span class="token variable">multiData</span></code>
        to true and passing the proper data.
      </p>
      <p class="card-text">
        Classes can be added to the card div by setting the <code class="p-1"><span class="token variable">cardClasses</span></code> property
        and to the table by setting the <code class="p-1"><span class="token variable">classes</span></code> property.
      </p>

      <h3 class="card-title mt-4">Data Source</h3>
      <p class="card-text">
        The table accepts either an array of data, an array of Objects using the <code class="p-1"><span class="token variable">DatatableMultiData</span></code>
        interface, or a url to request data from. Regardless of the data source, the structure of the data itself is not
        implied and to properly present the data, a coordinating columns array must exist.
      </p>

      <h3 class="card-title mt-4">Columns</h3>
      <p class="card-text">
        The columns property of the <code class="p-1"><span class="token variable">DatatableOptions</span></code> object should be either a <code class="p-1"><span class="token variable">DatatableColumn[]</span></code>
        or in the case of MultiData, a  <code class="p-1"><span class="token variable">DatatableColumn[][]</span></code>.
        Each column must define the <code class="p-1"><span class="token variable">name</span></code> and <code class="p-1"><span class="token variable">data</span></code>
        properties.
      </p>
      <h5><code class="p-1"><span class="token tag">DatatableColumn.name</span></code></h5>
      <p class="card-text">The name property will set the heading of the column and must be a string.</p>
      <h5><code class="p-1"><span class="token tag">DatatableColumn.data</span></code></h5>
      <p class="card-text">
        The data property can either be a string representing a key in the data source or a Component that will be
        dynamically resolved and passed the data from the row. You can create and pass your own custom component or use one of the pre-built
        components in the cbj-datatable module. If you decide to create a custom module be sure to register the Component
        when importing CbjUiModule in your AppModule.
      </p>

      <h3 class="card-title mt-4">MultiData</h3>
      <p class="card-text">
        The <code class="p-1"><span class="token variable">multiData</span></code> option is a boolean that, when set to true,
        tells the component that the data being sent is an array of <code class="p-1"><span class="token variable">DatatableMultiData</span></code> objects.
        The component will then process each object as its own table and add a dropdown menu in the top left for toggling the tables. An example of this functionality
        can be seen in the table below in the Models section.
      </p>

      <h3 class="card-title mt-4">Custom Cell Rendering</h3>
      <p class="card-text">
        The table is setup so that if HTML is passed in as data it will be sanitized and injected into the cell. This works
        fine for simple HTML but if you wanted to use a directive or component or wanted to mutate the data, then you will
        need to set the columns data property to a component. The component will be resolved and passed the current row and
        and the keys property from the column.
      </p>
    </div>
  </div>

  <div class="card bg-primary mt-4">
    <div class="card-header">
      <h2>Code</h2>
    </div>
    <div class="card-body">
      <p class="card-text">
        Below are some examples of different table configurations.
      </p>
      <h3 class="card-title">Basic</h3>
      <p class="card-text">Simplicity at its best. Here we have just a basic setup with ajax sourced data</p>
      <cbj-card-tabs type="nav-tabs" adlCardClasses="bg-secondary mt-4">
        <cbj-card-tab title="component" icon="dev-icon typescript tiny">
          <pre><code [cbjHighlight]="basicComp" [innerHTML]="basicComp.code"></code></pre>
        </cbj-card-tab>
        <cbj-card-tab title="template" icon="dev-icon html5 tiny">
          <pre><code [cbjHighlight]="basicTemp" [innerHTML]="basicTemp.code"></code></pre>
        </cbj-card-tab>
      </cbj-card-tabs>

      <h3 class="card-title mt-4">MultiData</h3>
      <p class="card-text">
        This example comes from the Layout Components page, it is the code I use to make the API table and it is a good
        example of both MultiData and passing a Component to the DatatableColumns.data property.
      </p>
      <cbj-card-tabs type="nav-tabs" adlCardClasses="bg-secondary mt-4">
        <cbj-card-tab title="component" icon="dev-icon typescript tiny">
          <pre><code [cbjHighlight]="multiDataComp"></code></pre>
        </cbj-card-tab>
        <cbj-card-tab title="template" icon="dev-icon html5 tiny">
          <pre><code [cbjHighlight]="multiDataTemp"></code></pre>
        </cbj-card-tab>
      </cbj-card-tabs>
    </div>
  </div>

  <div class="card bg-primary mt-4">
    <div class="card-body">
      <h2 class="card-title mt-4">Inputs</h2>
      <cbj-datatable [config]="apiDtOptions"></cbj-datatable>

      <h2 class="card-title mt-4">Models</h2>
      <cbj-datatable [config]="modelsDtOptions"></cbj-datatable>
    </div>
  </div>
</div>

