<div class="site-wrapper">
    <div class="row m-0">
        <nav class="navbar" [ngClass]="config.navbarClasses">
            <div class="navbar-brand">
                <div *ngIf="config.useSidebar"
                     class="menu-toggler"
                     [ngClass]="{open: sidebarOpen}"
                     (click)="toggleSidebar()">
                    <span class="line"></span>
                    <span class="line"></span>
                    <span class="line"></span>
                </div>
                <ng-content select="[navbar-brand]"></ng-content>
            </div>
            <ng-content select="[navbar-content]"></ng-content>
        </nav>
    </div>

    <div class="site-inner">

        <nav *ngIf="config.useSidebar"
             class="cbj-sidebar"
             [ngClass]="{open: sidebarOpen}"
             [cbjScrollbar]="config.sideScrollbarOptions">

            <ng-content select="[sidebar-header]"></ng-content>

            <div class="list-group">
                <ng-container *ngFor="let link of config.sidebarLinks">
                    <ng-container [ngSwitch]="link.type">

                        <h4 *ngSwitchCase="0"
                            [class]="config.linkClasses.heading"
                            [ngClass]=""
                            [cbjRipple]="{size: 317}"
                        >
                            {{link.text}}
                        </h4>

                        <ng-container *ngSwitchCase="1">
                            <div class="dropdown-link" (click)="toggleDropdown(link)" [ngClass]="{show: link.dropdownShow}">
                                <div [class]="config.linkClasses.dropdown" [cbjRipple]="{size: 317}">
                                    {{link.text}}
                                    <i class="material-icons md-2">keyboard_arrow_right</i>
                                </div>
                            </div>
                            <div class="collapse" [ngStyle]="{'height.px': link.dropdownShow ? link.dropdownHeight : 0}">
                                <ng-container *ngFor="let subLink of link.children">
                                    <a [class]="config.linkClasses.link"
                                       [routerLink]="subLink.link"
                                       [routerLinkActive]="config.linkClasses.active"
                                       [cbjRipple]="{size: 317}"
                                       (click)="sidebarOpen = false"
                                    >
                                        {{subLink.text}}
                                    </a>
                                </ng-container>
                            </div>
                        </ng-container>

                        <a *ngSwitchCase="2"
                           [class]="config.linkClasses.link"
                           [routerLink]="link.link"
                           [routerLinkActive]="config.linkClasses.active"
                           [cbjRipple]="{size: 317}"
                           (click)="sidebarOpen = false"
                        >
                            {{link.text}}
                        </a>

                    </ng-container>
                </ng-container>
            </div>

            <ng-content select="[sidebar-footer]"></ng-content>

        </nav>

        <div class="backdrop"
             *ngIf="sidebarOpen && isMobile"
             (click)="sidebarOpen = false"
             [@fade]>
        </div>

        <div class="main-content" [ngClass]="{open: sidebarOpen}" [cbjScrollbar]="config.mainScrollbarOptions">

            <ng-content select="[main-content]"></ng-content>

        </div>

    </div>
</div>